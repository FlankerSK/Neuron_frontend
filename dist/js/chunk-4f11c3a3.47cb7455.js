(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f11c3a3"],{"00c3":function(t,e,i){"use strict";var n=i("43cb"),a=i.n(n);a.a},"43cb":function(t,e,i){},"56c6":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"create"},[i("div",{staticClass:"header"},[t._v(" 标题："),i("el-input",{staticStyle:{"max-width":"250px"},attrs:{type:"text",placeholder:"输入标题"},on:{blur:function(e){return t.saveTable()}},model:{value:t.paperInfo.title,callback:function(e){t.$set(t.paperInfo,"title",e)},expression:"paperInfo.title"}}),i("el-button",{staticStyle:{float:"right"},on:{click:function(e){return t.saveTable()}}},[t._v("保存")])],1),i("el-divider"),i("el-form",t._l(t.questionList,(function(e,n){return i("el-form-item",{key:n,ref:"questionList",refInFor:!0,staticStyle:{"text-align":"left"},attrs:{"label-width":"100px"}},[i("el-input",{staticStyle:{width:"700px",border:"2px solid",display:"block"},attrs:{type:"textarea",placeholder:"请输入问题"},model:{value:e.title,callback:function(i){t.$set(e,"title",i)},expression:"ques.title"}}),"FILL_IN"===e.type?i("div",[i("div",[i("el-tag",{staticStyle:{"margin-top":"10px"},attrs:{type:"info"}},[t._v("填空")])],1),i("el-input",{staticStyle:{display:"block",width:"500px",margin:"10px 0","padding-right":"400px"},attrs:{type:"textarea",placeholder:"回答"}})],1):"SINGLE_ANSWER_MULTIPLE_CHOICE"===e.type?i("div",[i("el-tag",{staticStyle:{"margin-top":"10px"},attrs:{type:"info"}},[t._v("单选")]),i("el-button",{staticStyle:{display:"block","margin-top":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:function(i){return t.addOption(e)}}},[t._v(" 新增选项 ")]),t._l(e.options,(function(n,a){return i("div",{key:a,staticStyle:{"padding-right":"600px","margin-top":"10px"}},[i("el-radio",{staticStyle:{display:"inline-block"},attrs:{disabled:""}}),i("el-input",{staticStyle:{display:"inline-block",width:"200px"},model:{value:n.value,callback:function(e){t.$set(n,"value",e)},expression:"option.value"}}),i("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"danger",icon:"el-icon-close",circle:"",size:"mini"},on:{click:function(i){return t.removeOption(e,a)}}})],1)}))],2):"MULTIPLE_ANSWER_MULTIPLE_CHOICE"===e.type?i("div",[i("el-tag",{staticStyle:{"margin-top":"10px"},attrs:{type:"info"}},[t._v("多选")]),i("el-button",{staticStyle:{display:"block","margin-top":"10px"},attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:function(i){return t.addOption(e)}}},[t._v(" 新增选项 ")]),t._l(e.options,(function(n,a){return i("div",{key:a,staticStyle:{"padding-right":"600px"}},[i("el-checkbox",{staticStyle:{display:"inline-block","margin-right":"10px"},attrs:{disabled:""}}),i("el-input",{staticStyle:{display:"inline-block",width:"200px"},model:{value:n.value,callback:function(e){t.$set(n,"value",e)},expression:"option.value"}}),i("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"danger",icon:"el-icon-close",circle:"",size:"mini"},on:{click:function(i){return t.removeOption(e,a)}}})],1)}))],2):"LIST_QUESTION"===e.type?i("div",[i("div",[i("el-tag",{staticStyle:{"margin-top":"10px"},attrs:{type:"info"}},[t._v("列表")])],1),i("el-table",{staticStyle:{width:"50%"},attrs:{data:t.defaultData,border:"","tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{prop:"data",label:"数据"}})],1)],1):t._e(),i("div",[i("p")]),i("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[i("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.delQues(n)}}},[t._v("删除")]),i("div",{staticStyle:{flex:"0 1 20%"}})],1),i("el-divider")],1)})),1),i("div",{staticStyle:{"padding-bottom":"20px"}},[t.Listempty?i("el-divider",{attrs:{direction:"vertical"}}):t._e(),i("el-dropdown",{on:{command:t.addQues}},[i("el-button",{attrs:{type:"primary"}},[t._v("新增问题"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"FILL_IN"}},[t._v(" 填空 ")]),i("el-dropdown-item",{attrs:{command:"SINGLE_ANSWER_MULTIPLE_CHOICE",divided:""}},[t._v(" 单选 ")]),i("el-dropdown-item",{attrs:{command:"MULTIPLE_ANSWER_MULTIPLE_CHOICE",divided:""}},[t._v(" 多选 ")]),i("el-dropdown-item",{attrs:{command:"LIST_QUESTION",divided:""}},[t._v(" 列表 ")]),i("el-dropdown-item",{attrs:{command:"TABLE_QUESTION",divided:""}},[t._v(" 表格 ")])],1)],1)],1)],1)},a=[],o=(i("a434"),i("b85c")),r=i("5530"),l=(i("96cf"),i("1da1")),s=i("2f62"),c={name:"Create",data:function(){return{datepicker:!1,radio:"1",date:""}},mounted:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Create with paperInfo & questionList"),i=t.$route.params.tableId,console.log("tableId: ".concat(i)),e.next=5,t.editTable(i);case 5:case"end":return e.stop()}}),e)})))()},watch:{paperInfo:function(){null!=this.paperInfo.startTime&&(this.datepicker=!0,this.radio="2",this.date=[new Date(this.paperInfo.startTime),new Date(this.paperInfo.endTime)])}},computed:Object(r["a"])({},Object(s["c"])(["paperInfo","questionList"]),{Listempty:function(){return 0!==this.questionList.length}}),methods:Object(r["a"])({},Object(s["b"])(["createQuestion","updateQuestion","deleteQuestion","editTable","updateTable","releaseTable"]),{saveTable:function(){var t=this;console.log("invoke saveTable"),this.updateTable(this.paperInfo).then((function(e){e.success?(t.$notify.success("保存成功"),t.$router.push({name:"overview"})):t.$notify.error(e.message)}))},addQues:function(t){this.createQuestion(t)},delQues:function(t){this.deleteQuestion(t)},checkQues:function(t){if(""===t.title)return this.$message.warning("题干不应为空"),!1;if(t.type<=2){if(t.options.length<2)return this.$message.warning("选择题至少应有两个选项"),!1;var e,i=Object(o["a"])(t.options);try{for(i.s();!(e=i.n()).done;){var n=e.value;if(0===n.length)return this.$message.warning("选项不可为空"),!1}}catch(a){i.e(a)}finally{i.f()}}return!0},addOption:function(t){t.options.push({value:""})},removeOption:function(t,e){t.options.splice(e,1)},submitTable:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("submitTable with tableId: ".concat(this.paperInfo.id)),t.next=3,this.releaseTable();case 3:e=t.sent,console.log(e),e?this.$message.success("发布成功"):this.$message.error("发放采集表异常");case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()})},p=c,d=(i("00c3"),i("2877")),u=Object(d["a"])(p,n,a,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-4f11c3a3.47cb7455.js.map