(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e5406946"],{"5c73":function(t,e,i){"use strict";var l=i("e7bf"),o=i.n(l);o.a},7494:function(t,e,i){"use strict";i.r(e);var l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{staticClass:"overview"},[i("el-header",{attrs:{height:"30px"}},[i("span",{staticClass:"title",staticStyle:{float:"left","font-size":"30px","font-weight":"700"}},[t._v("采集表列表")]),i("div",[i("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(e){return t.createPaper()}}},[t._v("新增采集表")])],1)]),i("el-divider"),i("el-main",{staticClass:"pappers"},[0===t.allTables.length?i("h1",[t._v(" 无采集表信息，点击"),i("span",{staticStyle:{cursor:"pointer",color:"blue"},on:{click:function(e){return t.createPaper()}}},[t._v("新增采集表")]),t._v("！")]):t._e(),t._l(t.allTables,(function(e,l){return i("div",{key:e.id,staticStyle:{display:"block"}},[i("el-card",{staticClass:"table_card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticStyle:{float:"left","font-size":"18px","font-weight":"700"}},[t._v(" "+t._s(e.title)+" ")]),i("div",{staticStyle:{"margin-right":"5px"}},[i("span",{staticStyle:{color:"white"}},[t._v(".")]),i("div",{staticStyle:{float:"right"}},[i("span",{staticStyle:{"margin-right":"10px"}},[t._v("ID: "+t._s(e.id))]),i("i",{staticClass:"el-icon-info"}),"UNPUBLISH"===e.status?i("label",[t._v(" 未发布 ")]):"PUBLISHING"===e.status?i("label",[t._v(" 发布中 ")]):"END"===e.status?i("label",[t._v(" 已结束 ")]):t._e()])])]),"UNPUBLISH"===e.status?i("el-button",{staticStyle:{float:"left"},attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(i){return t.editPaper(e.id)}}},[t._v("编辑采集表")]):t._e(),"PUBLISHING"===e.status||"END"===e.status?i("el-button",{staticStyle:{float:"left"},attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(i){return t.checkPaperDetail(e.id)}}},[t._v(" 查看填写情况 ")]):t._e(),"UNPUBLISH"===e.status?i("el-button",{staticStyle:{float:"left"},attrs:{type:"text",icon:"el-icon-share"},on:{click:function(i){return t.releaseTable(e.id)}}},[t._v("发布采集表")]):t._e(),"PUBLISHING"===e.status?i("el-button",{staticStyle:{float:"left"},attrs:{type:"text",icon:"el-icon-video-pause"},on:{click:function(e){return t.showStopDialog(l)}}},[t._v("暂停发布")]):t._e(),i("el-button",{staticStyle:{float:"left"},attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(e){return t.showDeleteDialog(l)}}},[t._v("删除采集表")])],1)],1)})),i("el-dialog",{attrs:{title:"提示",visible:t.stopDialogVisible,width:"30%"},on:{"update:visible":function(e){t.stopDialogVisible=e}}},[i("span",[t._v("确认暂停该采集表的发布")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.stopDialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.handleStop()}}},[t._v("确 定")])],1)]),i("el-dialog",{attrs:{title:"提示",visible:t.deleteDialogVisible,width:"30%"},on:{"update:visible":function(e){t.deleteDialogVisible=e}}},[i("span",[t._v("确认删除该采集表")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.deleteDialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.handleDelete()}}},[t._v("确 定")])],1)])],2)],1)},o=[],a=i("5530"),s=i("2f62"),n=i("bc3a"),c=i.n(n),r={name:"Overview",data:function(){return{stopDialogVisible:!1,deleteDialogVisible:!1,userId:-1,deleteDialogInfo:{index:-1},stopDialogInfo:{index:-1}}},mounted:function(){this.getAdminAllTables()},computed:Object(a["a"])({},Object(s["c"])(["allTables"])),methods:Object(a["a"])({},Object(s["b"])(["getAdminAllTables","deleteTable","editTable","stopReleaseTable"]),{},Object(s["d"])(["set_createPaperVisible"]),{test:function(){var t=this;c()({url:"/api/token/test",method:"GET"}).then((function(e){console.log(e.data),console.log(e.data),0==e.data.code&&t.$notify.success({title:"测试成功"})}))},createPaper:function(){this.set_createPaperVisible(!0)},checkPaperDetail:function(t){console.log("check paper detail with tableId: ".concat(t)),this.$router.push({name:"monitor",params:{tableId:t}})},releaseTable:function(t){this.$router.push({name:"release",params:{tableId:t}})},editPaper:function(t){var e=this;console.log(t),this.editTable(t).then((function(i){console.log(i),i?e.$router.push("/editor/create/".concat(t)):e.$notify.success({title:"异常采集表，请询问管理员"})}))},handleStop:function(){var t=this,e=this.stopDialogInfo.index;console.info("index: ",e),this.stopReleaseTable(e).then((function(e){console.log(e),e?t.$notify.success({title:"已暂停发布"}):t.$notify.error({title:"操作失败"})})),this.stopDialogVisible=!1},handleDelete:function(){var t=this,e=this.deleteDialogInfo.index;this.deleteTable(e).then((function(e){console.log(e),e?t.$notify.success({title:"删除成功"}):t.$notify.error({title:"删除失败"})})),this.deleteDialogVisible=!1},showStopDialog:function(t){this.stopDialogInfo.index=t,this.stopDialogVisible=!0},showDeleteDialog:function(t){this.deleteDialogInfo.index=t,this.deleteDialogVisible=!0}})},u=r,d=(i("5c73"),i("2877")),f=Object(d["a"])(u,l,o,!1,null,null,null);e["default"]=f.exports},e7bf:function(t,e,i){}}]);
//# sourceMappingURL=chunk-e5406946.b3ee09d1.js.map